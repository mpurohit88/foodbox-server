(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{149:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(40),r=a.n(c),o=(a(76),a(3)),i=a(4),u=a(6),s=a(5),m=a(7),d=a(1),h=(a(43),a(19)),p=a.n(h),E=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(s.a)(t).call(this,e))).state={},a.saveCustomer=a.saveCustomer.bind(Object(d.a)(Object(d.a)(a))),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;new Promise(function(e,t){p()("api/getCustomers",{method:"GET"}).then(function(t){e(t.data)}).catch(function(e){console.log(e),t(e)})}).then(function(t){e.props.setCustomers(t)})}},{key:"saveCustomer",value:function(){var e,t=this,a={firstName:document.getElementById("FirstName_0").value,middleName:document.getElementById("MiddleName_0").value,lastName:document.getElementById("LastName_0").value,email:document.getElementById("Email_0").value,sex:document.getElementById("Sex_0").value,mobile:document.getElementById("Mobile_0").value,cityName:document.getElementById("CityName_0").value};(e=a,new Promise(function(t,a){p()("api/saveCustomer",{method:"POST",data:e}).then(function(e){t(e.data)}).catch(function(e){console.log(e),a(e)})})).then(function(e){t.props.setCustomers(e)})}},{key:"render",value:function(){var e=this;return[l.a.createElement("div",null,l.a.createElement("table",{className:"table table-bordered"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"First Name"),l.a.createElement("th",null,"Middle Name"),l.a.createElement("th",null,"Last Name"),l.a.createElement("th",null,"Email"),l.a.createElement("th",null,"Sex"),l.a.createElement("th",null,"Mobile"),l.a.createElement("th",null,"Address"),l.a.createElement("th",null,"Action"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("input",{type:"text",name:"firstName",id:"FirstName_0"})),l.a.createElement("td",null,l.a.createElement("input",{type:"text",name:"middleName",id:"MiddleName_0"})),l.a.createElement("td",null,l.a.createElement("input",{type:"text",name:"lastName",id:"LastName_0"})),l.a.createElement("td",null,l.a.createElement("input",{type:"text",name:"email",id:"Email_0"})),l.a.createElement("td",null,l.a.createElement("select",{id:"Sex_0"},l.a.createElement("option",{value:"M"},"Male"),l.a.createElement("option",{value:"F"},"Female"))),l.a.createElement("td",null,l.a.createElement("input",{type:"text",name:"mobile",id:"Mobile_0"})),l.a.createElement("td",null,l.a.createElement("input",{type:"text",name:"cityName",id:"CityName_0"})),l.a.createElement("td",null,l.a.createElement("input",{type:"button",id:"AddCustomer",value:"Add Customer",onClick:this.saveCustomer}))),this.props.customers&&this.props.customers.map(function(t,a){return l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("label",{type:"text",name:"firstName",id:"FirstName_".concat(a)},t.FirstName)),l.a.createElement("td",null,l.a.createElement("label",{type:"text",name:"middleName",id:"MiddleName_".concat(a)},t.MiddleName)),l.a.createElement("td",null,l.a.createElement("label",{type:"text",name:"lastsName",id:"LastName_".concat(a)},t.LastName)),l.a.createElement("td",null,l.a.createElement("label",{type:"text",name:"email",id:"Email_".concat(a)},t.Email)),l.a.createElement("td",null,l.a.createElement("label",{type:"text",name:"sex",id:"Sex_".concat(a)},t.Sex)),l.a.createElement("td",null,l.a.createElement("label",{type:"text",name:"mobile",id:"Mobile_".concat(a)},t.Mobile)),l.a.createElement("td",null,l.a.createElement("label",{type:"text",name:"cityName",id:"CityName_".concat(a)},t.CityName)),l.a.createElement("td",null,l.a.createElement("input",{type:"button",name:"schedule",id:"Schedule_".concat(a),value:"Schedule",onClick:function(){return e.props.openDialog(t._id)}})))}))))]}}]),t}(n.Component),f=a(41),b=a.n(f),y=a(25),v=a.n(y),S=a(41),C=function(e,t){return S(t+"-"+(e+=1)).daysInMonth()},g=function(){return S()},N=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(s.a)(t).call(this,e))).state={isDialogOpen:!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return[l.a.createElement("span",null,"Tiffin Type:"),l.a.createElement("select",{id:"TiffinType_"+this.props.id},l.a.createElement("option",{value:"0"},"--Select--"),l.a.createElement("option",{class:"launch",value:"1"},"Launch"),l.a.createElement("option",{class:"dinner",value:"2"},"Dinner"),l.a.createElement("option",{class:"both",value:"3"},"Both"))]}}]),t}(n.Component),O=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(s.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"_updateSchedule",value:function(){var e,t=this.props,a={_id:t._id,customerId:t.customerId,index:t.index,date:t.date,tiffinType:document.getElementById("TiffinType_Update").value};(e=a,new Promise(function(t,a){p()("api/updateSchedule",{method:"POST",data:e}).then(function(e){t(e.data)}).catch(function(e){console.log(e),a(e)})})).then(function(e){t.handleClose(),t.setSchedule(e),console.log("updated.................",e)})}},{key:"render",value:function(){var e=this;return[l.a.createElement(v.a,{title:"Update Schedule",modal:!0,onClose:this.props.handleClose,buttons:[{text:"Close",onClick:function(){return e.props.handleClose()}}]},l.a.createElement("h3",null,this.props.date),l.a.createElement(N,{id:"Update"}),"\xa0\xa0\xa0",l.a.createElement("input",{type:"button",name:"updateSchedule",id:"UpdateShedule",value:"Update",onClick:function(){return e._updateSchedule()}}))]}}]),t}(n.Component),_=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(s.a)(t).call(this,e))).setSchedule=function(e){a.setState({schedule:e})},a.createCalendar=function(e){for(var t=C(e.month(),e.year()),n=[],c=[],r=e.startOf("month").get("day"),o=1;o<r;o++)c.push(l.a.createElement("td",null));r=8-r;for(var i=function(t){var o=a.isDateExistInSchedule(t,e.month()+1,e.year());t%r===0?(r+=7,c.push(l.a.createElement("td",{className:o&&o.colorCode,onClick:function(){return a.updateSchedule(o&&o.index,t,e)}},t)),n.push(l.a.createElement("tr",null,c)),c=[]):c.push(l.a.createElement("td",{className:o&&o.colorCode,onClick:function(){return a.updateSchedule(o&&o.index,t,e)}},t))},u=1;u<=t;u++)i(u);return c.length>0&&n.push(l.a.createElement("tr",null,c)),n},a.state={showDialog:!1},a.saveShedule=a.saveShedule.bind(Object(d.a)(Object(d.a)(a))),a._getSchedule=a._getSchedule.bind(Object(d.a)(Object(d.a)(a))),a.handleClose=a.handleClose.bind(Object(d.a)(Object(d.a)(a))),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"saveShedule",value:function(){var e,t=this,a={startDate:document.getElementById("StartDate").value,endDate:document.getElementById("EndDate").value,customerId:this.props.customerId,tiffinType:document.getElementById("TiffinType_Schedule").value,isWeekend:document.getElementById("Yes").checked};(e=a,new Promise(function(t,a){p()("api/saveSchedule",{method:"POST",data:e}).then(function(e){t(e.data)}).catch(function(e){console.log(e),a(e)})})).then(function(e){console.log("Schedule.............",e),t.setState({schedule:e})})}},{key:"getSnapshotBeforeUpdate",value:function(e,t){e.customerId!==this.props.customerId&&this._getSchedule()}},{key:"componentDidMount",value:function(){this._getSchedule()}},{key:"handleClose",value:function(){this.setState({showDialog:!1})}},{key:"updateSchedule",value:function(e,t,a){this.setState({showDialog:!0,index:e,date:a.year()+"-"+(a.month()+1)+"-"+t})}},{key:"_getSchedule",value:function(e){var t,a=this;(t={customerId:this.props.customerId,date:e},new Promise(function(e,a){p()("api/getSchedule?customerId="+t.customerId+"&date"+t.date,{method:"GET"}).then(function(t){e(t.data)}).catch(function(e){console.log(e),a(e)})})).then(function(e){console.log("Schedule.............",e),a.setState({schedule:e})})}},{key:"isDateExistInSchedule",value:function(e,t,a){var n=void 0;return this.state.schedule&&(this.state.schedule.monthSchedule||[]).map(function(l,c){b()(a+"-"+t+"-"+e).isSame(l.date)&&l.tiffin&&(l.tiffin.launch&&l.tiffin.dinner?n={colorCode:"both",index:c}:l.tiffin.launch?n={colorCode:"launch",index:c}:l.tiffin.dinner&&(n={colorCode:"dinner",index:c}))}),n}},{key:"render",value:function(){var e=this;return l.a.createElement(v.a,{title:"Manage Schedule",modal:!0,onClose:this.props.handleClose,buttons:[{text:"Close",onClick:function(){return e.props.handleClose()}}]},l.a.createElement("br",null),"Start Date: ",l.a.createElement("input",{type:"date",name:"startDate",id:"StartDate"})," \xa0 End Date: ",l.a.createElement("input",{type:"date",name:"endDate",id:"EndDate"})," ",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",null,l.a.createElement(N,{id:"Schedule"})," \xa0",l.a.createElement("label",null,"Include Weekends:")," \xa0",l.a.createElement("input",{type:"radio",id:"Yes",name:"drone",value:"yes",checked:!0}),l.a.createElement("label",{htmlFor:"Yes"},"Yes"),"\xa0",l.a.createElement("input",{type:"radio",id:"No",name:"drone",value:"no"}),l.a.createElement("label",{htmlFor:"No"},"No")),l.a.createElement("div",null),l.a.createElement("br",null),l.a.createElement("input",{type:"button",name:"saveSchedule",id:"SaveShedule",value:"Save",onClick:function(){return e.saveShedule()}}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:"month"},l.a.createElement("ul",null,l.a.createElement("li",{className:"prev"},"\u276e"),l.a.createElement("li",{className:"next"},"\u276f"),l.a.createElement("li",null,["January","February","March","April","May","June","July","August","September","October","November","December"][g().month()],l.a.createElement("br",null),l.a.createElement("span",null,g().year())))),l.a.createElement("table",{className:"weekdays"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("td",null,"Mo"),l.a.createElement("td",null,"Tu"),l.a.createElement("td",null,"We"),l.a.createElement("td",null,"Th"),l.a.createElement("td",null,"Fr"),l.a.createElement("td",null,"Sa"),l.a.createElement("td",null,"Su"))),l.a.createElement("tbody",{className:"days"},this.createCalendar(g()))),this.state.showDialog&&l.a.createElement(O,{index:this.state.index,_id:this.state.schedule._id,customerId:this.props.customerId,date:this.state.date,setSchedule:this.setSchedule,handleClose:function(){return e.handleClose()}}))}}]),t}(n.Component),x=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(s.a)(t).call(this,e))).openDialog=function(e){return a.setState({isDialogOpen:!0,customerId:e})},a.handleClose=function(){return a.setState({isDialogOpen:!1})},a.state={isDialogOpen:!1},a.setCustomers=a.setCustomers.bind(Object(d.a)(Object(d.a)(a))),a.filterCustomer=a.filterCustomer.bind(Object(d.a)(Object(d.a)(a))),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){}},{key:"setCustomers",value:function(e){this.setState({customers:e,originalList:e})}},{key:"filterCustomer",value:function(){var e=this.state.originalList.slice(),t=document.getElementById("FirstName_Search").value,a=document.getElementById("LastName_Search").value,n=document.getElementById("TiffinType_Search").value,l=(document.getElementById("Date_Search").value,[]),c=!0;e.map(function(e){c=!0,""!==t&&-1===e.FirstName.toLowerCase().indexOf(t.toLowerCase())&&(c=!1),""!==a&&-1===e.LastName.toLowerCase().indexOf(a.toLowerCase())&&(c=!1),e.TiffinType&&""!==n&&-1===e.TiffinType.indexOf(n)&&(c=!1),c&&l.push(e)}),this.setState({customers:l})}},{key:"render",value:function(){return console.log("customes.........",this.state.customers),[l.a.createElement("div",{className:"App"},"Welcome Admin ",l.a.createElement("br",null)," ",l.a.createElement("br",null),"Search Customer: First Name: ",l.a.createElement("input",{type:"text",id:"FirstName_Search",onChange:this.filterCustomer}),"\xa0 Last Name: ",l.a.createElement("input",{type:"text",id:"LastName_Search",onChange:this.filterCustomer}),"\xa0 ",l.a.createElement(N,{id:"Search"}),"\xa0 Date: ",l.a.createElement("input",{type:"date",id:"Date_Search"}),"\xa0 ",l.a.createElement("input",{type:"button",id:"Search",value:"Search"}),l.a.createElement("hr",null),l.a.createElement(E,{setCustomers:this.setCustomers,customers:this.state.customers,openDialog:this.openDialog}),this.state.isDialogOpen&&l.a.createElement(_,{handleClose:this.handleClose,customerId:this.state.customerId}))]}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},43:function(e,t,a){},71:function(e,t,a){e.exports=a(149)},76:function(e,t,a){}},[[71,2,1]]]);
//# sourceMappingURL=main.60dfd862.chunk.js.map